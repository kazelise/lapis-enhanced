/* 
 *   Typora Theme - Lapis - Dark Version / Author - YiNN 
 *   https://github.com/YiNNx/typora-theme-lapis
 */

@media (prefers-color-scheme: dark) {
  .color-scheme-auto {
    --text-color: #e4e4e4e3;
    --secondary-text-color: #a2a2a2;
    /* Text */
    --primary-color: #8393ad;
    --primary2-color: #a0b3d1;
    --primary3-color: #5e6a7d;
    --primary4-color: rgba(131, 147, 173, 0.02);
    /* Primary Color */
    --bg-color: #1e222a;
    --side-bar-bg-color: #181c24;
    --panel-bg-color: #40464f;
    /* Background */

    --code-color: #abbad4;
    /* Inline Code & Code Block */
    --marker-color: #7d8a9f;
    /* List Marker */
    --highlight-color: #ffffb5c2;
    /* Highlight */
    --header-span-color: #47556d;
    /* h2 Span Color */
    --block-bg-color: #080e1d;
    /* Code Block Background */
    --quote-block-bg-color: #2a2f3b;
    /* Quote Block Background */
    --img-shadow-color: var(--block-bg-color);

    /* Overwrite of Typora Base Color */
    --md-char-color: #7d8a9f7d;
    --heading-char-color: var(--text-color);
    --select-text-bg-color: #dae3ea2e;
    --search-select-bg-color: #346895;
    --item-hover-bg-color: var(--block-bg-color);
    --window-border: 1px solid var(--bg-color);
    --control-text-hover-color: var(--text-color);
    --rawblock-edit-panel-bd: var(--block-bg-color);

    /* Comment Plugin */
    --halo-comment-widget-component-form-button-submit-bg-color: var(--primary3-color);
    --halo-comment-widget-component-form-button-submit-border-color: var(--primary3-color);

    /* HyperLink Plugin */
    --halo-hyperlink-card-link-color: var(--secendary-text-color);
    --halo-hyperlink-card-border-hover-color: var(--primary3-color);
  }

  /*
 * Background Color
 */

  content {
    background: var(--bg-color);
  }

  /*
 * Header
 */
  .write h2 {
    color: var(--text-color);
  }

  /*
 * Mark
 */

  mark {
    background: var(--highlight-color);
    border-radius: 1px;
    color: var(--bg-color);
  }

  /*
 * Quote
 */

  .write blockquote,
  .md-alert {
    background: var(--quote-block-bg-color);
  }

  /*
 * Code
 */

  .write code {
    color: var(--code-color);
  }

  .write h2 code {
    background-color: var(--header-span-color);
    color: var(--text-color);
  }

  /*
 * Table
 */

  .write table.md-table tr th,
  .write table.md-table tr td {
    border: 1px solid var(--header-span-color);
  }

  .write table.md-table tr th {
    color: var(--text-color);
  }

  table.md-table.md-table td {
    background-color: var(--bg-color);
  }

  .write table.md-table tr td:hover,
  .write table.md-table tr th:hover {
    background-color: var(--side-bar-bg-color);
  }

  /*
 * Horizontal Line
 */

  .write hr {
    border-top: 1px solid var(--header-span-color);
  }


  /* 
 * Preferences
 */

  ::-webkit-scrollbar-thumb {
    background: var(--block-bg-color);
  }
}

/* Force Dark Mode */
.color-scheme-dark {
  --text-color: #e4e4e4e3;
  --secondary-text-color: #a2a2a2;
  /* Text */
  --primary-color: #8393ad;
  --primary2-color: #a0b3d1;
  --primary3-color: #5e6a7d;
  --primary4-color: rgba(131, 147, 173, 0.02);
  /* Primary Color */
  --bg-color: #1e222a;
  --side-bar-bg-color: #181c24;
  --panel-bg-color: #40464f;
  /* Background */

  --code-color: #abbad4;
  /* Inline Code & Code Block */
  --marker-color: #7d8a9f;
  /* List Marker */
  --highlight-color: #ffffb5c2;
  /* Highlight */
  --header-span-color: #47556d;
  /* h2 Span Color */
  --block-bg-color: #080e1d;
  /* Code Block Background */
  --quote-block-bg-color: #2a2f3b;
  /* Quote Block Background */
  --img-shadow-color: var(--block-bg-color);

  /* Overwrite of Typora Base Color */
  --md-char-color: #7d8a9f7d;
  --heading-char-color: var(--text-color);
  --select-text-bg-color: #dae3ea2e;
  --search-select-bg-color: #346895;
  --item-hover-bg-color: var(--block-bg-color);
  --window-border: 1px solid var(--bg-color);
  --control-text-hover-color: var(--text-color);
  --rawblock-edit-panel-bd: var(--block-bg-color);

  /* Comment Plugin */
  --halo-comment-widget-component-form-button-submit-bg-color: var(--primary3-color);
  --halo-comment-widget-component-form-button-submit-border-color: var(--primary3-color);

  /* HyperLink Plugin */
  --halo-hyperlink-card-link-color: var(--secendary-text-color);
  --halo-hyperlink-card-border-hover-color: var(--primary3-color);
}

.color-scheme-dark content {
  background: var(--bg-color);
}

.color-scheme-dark .write h2 {
  color: var(--text-color);
}

.color-scheme-dark mark {
  background: var(--highlight-color);
  border-radius: 1px;
  color: var(--bg-color);
}

.color-scheme-dark .write blockquote,
.color-scheme-dark .md-alert {
  background: var(--quote-block-bg-color);
}

.color-scheme-dark .write code {
  color: var(--code-color);
}

.color-scheme-dark .write h2 code {
  background-color: var(--header-span-color);
  color: var(--text-color);
}

.color-scheme-dark .write table.md-table tr th,
.color-scheme-dark .write table.md-table tr td {
  border: 1px solid var(--header-span-color);
}

.color-scheme-dark .write table.md-table tr th {
  color: var(--text-color);
}

.color-scheme-dark table.md-table.md-table td {
  background-color: var(--bg-color);
}

.color-scheme-dark .write table.md-table tr td:hover,
.color-scheme-dark .write table.md-table tr th:hover {
  background-color: var(--side-bar-bg-color);
}

.color-scheme-dark .write hr {
  border-top: 1px solid var(--header-span-color);
}

.color-scheme-dark ::-webkit-scrollbar-thumb {
  background: var(--block-bg-color);
}
